<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Minhas encomendas</title>
</head>

<body>
    <h1>As minhas encomendas</h1>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Estado</th>
                <th>Produtos</th>
            </tr>
        </thead>
        <tbody id="table-body">
        </tbody>
    </table>

    <script>
        const orders = [
            { id: "A658", status: "draft", products: ['T-Shirt', 'Polo'] },
            { id: "A446", status: "processing", products: ['T-Shirt'] },
            { id: "A883", status: "draft", products: ['Polo', 'Polo'] },
            { id: "A234", status: "cancelled", products: ['Camisa', 'Saia'] },
            { id: "A754", status: "cancelled", products: ['Saia'] },
            { id: "A754", status: "shipped", products: ['Sweatshirt', 'Vestido'] },
            { id: "A236", status: "processing", products: ['Camisa', 'Saia'] },
            { id: "A467", status: "cancelled", products: ['Vestido', 'Top'] },
            { id: "A213", status: "processing", products: ['T-Shirt', 'Polo'] },
            { id: "A783", status: "shipped", products: ['T-Shirt', 'Polo'] },
        ];

        const tableBody = document.getElementById('table-body')

        for (const order of orders) {
            const row = document.createElement('tr')

            const id = document.createElement('td')
            const status = document.createElement('td')
            const products = document.createElement('td')

            id.textContent = order.id
            status.textContent = order.status

            row.appendChild(id) 
            row.appendChild(status)
            row.appendChild(products)

            switch (order.status) {
                case 'draft':
                    status.style.color = 'blue'
                    break;
                case 'processing':
                    status.style.color = 'yellow'
                    break;
                case 'cancelled':
                    status.style.color = 'red'
                    break;
                case 'shipped':
                    status.style.color = 'green'
                    break;
            }

            products.appendChild(buildProductsColumn(order.products))

            tableBody.appendChild(row)
        }

        function buildProductsColumn(products) {
            console.log(products)
            const productsList = document.createElement('ul')

            for (const product of products) {
                const productNode = document.createElement('li')

                productNode.textContent = product
                productsList.appendChild(productNode)
            }

            return productsList
        }

        console.log(tableBody)

    </script>
</body>

</html>